EESchema Schematic File Version 4
LIBS:H-THING-cache
EELAYER 26 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "H-THING (H-Bridge Motor Controller)"
Date "2018-06-07"
Rev "1"
Comp "V2FC"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L device:Q_NMOS_GDS Q3
U 1 1 5B19D5CC
P 3600 4250
F 0 "Q3" H 3800 4300 50  0000 L CNN
F 1 "HUF75321" H 3800 4200 50  0000 L CNN
F 2 "TO_SOT_Packages_THT:TO-220-3_Vertical" H 3800 4350 50  0001 C CNN
F 3 "" H 3600 4250 50  0001 C CNN
	1    3600 4250
	1    0    0    -1  
$EndComp
$Comp
L device:Q_PMOS_GDS Q2
U 1 1 5B19D62B
P 3600 3650
F 0 "Q2" H 3800 3700 50  0000 L CNN
F 1 "IRF5305" H 3800 3600 50  0000 L CNN
F 2 "TO_SOT_Packages_THT:TO-220-3_Vertical" H 3800 3750 50  0001 C CNN
F 3 "" H 3600 3650 50  0001 C CNN
	1    3600 3650
	1    0    0    1   
$EndComp
$Comp
L device:Q_NMOS_GDS Q5
U 1 1 5B19D6B4
P 5200 4250
F 0 "Q5" H 5400 4300 50  0000 L CNN
F 1 "HUF75321" H 5400 4200 50  0000 L CNN
F 2 "TO_SOT_Packages_THT:TO-220-3_Vertical" H 5400 4350 50  0001 C CNN
F 3 "" H 5200 4250 50  0001 C CNN
	1    5200 4250
	-1   0    0    -1  
$EndComp
$Comp
L device:Q_PMOS_GDS Q4
U 1 1 5B19D6BA
P 5200 3650
F 0 "Q4" H 5400 3700 50  0000 L CNN
F 1 "IRF5305" H 5400 3600 50  0000 L CNN
F 2 "TO_SOT_Packages_THT:TO-220-3_Vertical" H 5400 3750 50  0001 C CNN
F 3 "" H 5200 3650 50  0001 C CNN
	1    5200 3650
	-1   0    0    1   
$EndComp
Wire Wire Line
	3700 3850 3700 3950
Wire Wire Line
	5100 3850 5100 3950
Wire Wire Line
	3700 4450 3700 4550
Wire Wire Line
	5100 4550 5100 4450
Wire Wire Line
	3700 3450 3700 3350
Wire Wire Line
	3700 3350 4400 3350
Wire Wire Line
	5100 3350 5100 3450
$Comp
L device:R R2
U 1 1 5B19D715
P 3300 3350
F 0 "R2" V 3380 3350 50  0000 C CNN
F 1 "1k00" V 3300 3350 50  0000 C CNN
F 2 "Resistors_THT:R_Axial_DIN0207_L6.3mm_D2.5mm_P2.54mm_Vertical" V 3230 3350 50  0001 C CNN
F 3 "" H 3300 3350 50  0001 C CNN
	1    3300 3350
	1    0    0    -1  
$EndComp
$Comp
L device:R R4
U 1 1 5B19D78B
P 5500 3350
F 0 "R4" V 5580 3350 50  0000 C CNN
F 1 "1k00" V 5500 3350 50  0000 C CNN
F 2 "Resistors_THT:R_Axial_DIN0207_L6.3mm_D2.5mm_P2.54mm_Vertical" V 5430 3350 50  0001 C CNN
F 3 "" H 5500 3350 50  0001 C CNN
	1    5500 3350
	1    0    0    -1  
$EndComp
Wire Wire Line
	3400 3650 3300 3650
Wire Wire Line
	3300 3500 3300 3650
Wire Wire Line
	5400 3650 5500 3650
Wire Wire Line
	5500 3500 5500 3650
Wire Wire Line
	3300 4250 3400 4250
Connection ~ 3300 3650
Wire Wire Line
	5500 4250 5400 4250
Connection ~ 5500 3650
$Comp
L H-THING-rescue:2N3904 Q1
U 1 1 5B19D825
P 3200 4750
F 0 "Q1" H 3400 4825 50  0000 L CNN
F 1 "2N3904" H 3400 4750 50  0000 L CNN
F 2 "TO_SOT_Packages_THT:TO-92_Inline_Narrow_Oval" H 3400 4675 50  0001 L CIN
F 3 "" H 3200 4750 50  0001 L CNN
	1    3200 4750
	1    0    0    -1  
$EndComp
$Comp
L H-THING-rescue:2N3904 Q6
U 1 1 5B19D865
P 5600 4750
F 0 "Q6" H 5800 4825 50  0000 L CNN
F 1 "2N3904" H 5800 4750 50  0000 L CNN
F 2 "TO_SOT_Packages_THT:TO-92_Inline_Narrow_Oval" H 5800 4675 50  0001 L CIN
F 3 "" H 5600 4750 50  0001 L CNN
	1    5600 4750
	-1   0    0    -1  
$EndComp
Connection ~ 3300 4250
Connection ~ 5500 4250
$Comp
L power1:VCC #PWR01
U 1 1 5B19D93A
P 4400 3050
F 0 "#PWR01" H 4400 2900 50  0001 C CNN
F 1 "VCC" H 4400 3200 50  0000 C CNN
F 2 "" H 4400 3050 50  0001 C CNN
F 3 "" H 4400 3050 50  0001 C CNN
	1    4400 3050
	1    0    0    -1  
$EndComp
Wire Wire Line
	4400 3050 4400 3350
Connection ~ 4400 3350
$Comp
L power1:GND #PWR02
U 1 1 5B19D9C4
P 4200 5050
F 0 "#PWR02" H 4200 4800 50  0001 C CNN
F 1 "GND" H 4200 4900 50  0000 C CNN
F 2 "" H 4200 5050 50  0001 C CNN
F 3 "" H 4200 5050 50  0001 C CNN
	1    4200 5050
	1    0    0    -1  
$EndComp
Connection ~ 4200 4550
$Comp
L power1:VCC #PWR03
U 1 1 5B19DA62
P 3300 3050
F 0 "#PWR03" H 3300 2900 50  0001 C CNN
F 1 "VCC" H 3300 3200 50  0000 C CNN
F 2 "" H 3300 3050 50  0001 C CNN
F 3 "" H 3300 3050 50  0001 C CNN
	1    3300 3050
	1    0    0    -1  
$EndComp
$Comp
L power1:VCC #PWR04
U 1 1 5B19DABF
P 5500 3050
F 0 "#PWR04" H 5500 2900 50  0001 C CNN
F 1 "VCC" H 5500 3200 50  0000 C CNN
F 2 "" H 5500 3050 50  0001 C CNN
F 3 "" H 5500 3050 50  0001 C CNN
	1    5500 3050
	1    0    0    -1  
$EndComp
Wire Wire Line
	5500 3050 5500 3200
Wire Wire Line
	3300 3050 3300 3200
$Comp
L power1:GND #PWR05
U 1 1 5B19DB8E
P 3300 5050
F 0 "#PWR05" H 3300 4800 50  0001 C CNN
F 1 "GND" H 3300 4900 50  0000 C CNN
F 2 "" H 3300 5050 50  0001 C CNN
F 3 "" H 3300 5050 50  0001 C CNN
	1    3300 5050
	1    0    0    -1  
$EndComp
$Comp
L power1:GND #PWR06
U 1 1 5B19DBB1
P 5500 5050
F 0 "#PWR06" H 5500 4800 50  0001 C CNN
F 1 "GND" H 5500 4900 50  0000 C CNN
F 2 "" H 5500 5050 50  0001 C CNN
F 3 "" H 5500 5050 50  0001 C CNN
	1    5500 5050
	1    0    0    -1  
$EndComp
Wire Wire Line
	5500 5050 5500 4950
Wire Wire Line
	3300 5050 3300 4950
$Comp
L device:R R1
U 1 1 5B19DC29
P 2750 4750
F 0 "R1" V 2830 4750 50  0000 C CNN
F 1 "1k00" V 2750 4750 50  0000 C CNN
F 2 "Resistors_THT:R_Axial_DIN0207_L6.3mm_D2.5mm_P2.54mm_Vertical" V 2680 4750 50  0001 C CNN
F 3 "" H 2750 4750 50  0001 C CNN
	1    2750 4750
	0    1    1    0   
$EndComp
$Comp
L device:R R5
U 1 1 5B19DC75
P 6050 4750
F 0 "R5" V 6130 4750 50  0000 C CNN
F 1 "1k00" V 6050 4750 50  0000 C CNN
F 2 "Resistors_THT:R_Axial_DIN0207_L6.3mm_D2.5mm_P2.54mm_Vertical" V 5980 4750 50  0001 C CNN
F 3 "" H 6050 4750 50  0001 C CNN
	1    6050 4750
	0    1    1    0   
$EndComp
Wire Wire Line
	2900 4750 3000 4750
Wire Wire Line
	5800 4750 5900 4750
Wire Wire Line
	2600 4750 2350 4750
Wire Wire Line
	6200 4750 6500 4750
Text Label 2350 4750 0    60   ~ 0
HB1
Text Label 6500 4750 2    60   ~ 0
HB2
$Comp
L H-THING-rescue:Screw_Terminal_01x02 J1
U 1 1 5B19DEE0
P 4450 3700
F 0 "J1" V 4650 3650 50  0000 C CNN
F 1 "MOTOR_CON" V 4550 3650 50  0000 C CNN
F 2 "Connectors_Terminal_Blocks:TerminalBlock_bornier-2_P5.08mm" H 4450 3700 50  0001 C CNN
F 3 "" H 4450 3700 50  0001 C CNN
	1    4450 3700
	0    1    -1   0   
$EndComp
Wire Wire Line
	3700 3950 4200 3950
Wire Wire Line
	4350 3950 4350 3900
Connection ~ 3700 3950
Wire Wire Line
	4450 3900 4450 3950
Wire Wire Line
	4450 3950 4600 3950
Connection ~ 5100 3950
$Comp
L device:C C1
U 1 1 5B19E24C
P 4400 4100
F 0 "C1" V 4650 4100 50  0000 C CNN
F 1 "100nF" V 4550 4100 50  0000 C CNN
F 2 "Capacitors_THT:C_Disc_D5.0mm_W2.5mm_P5.00mm" H 4438 3950 50  0001 C CNN
F 3 "" H 4400 4100 50  0001 C CNN
	1    4400 4100
	0    1    1    0   
$EndComp
Wire Wire Line
	4250 4100 4200 4100
Wire Wire Line
	4200 4100 4200 3950
Connection ~ 4200 3950
Wire Wire Line
	4550 4100 4600 4100
Wire Wire Line
	4600 4100 4600 3950
Connection ~ 4600 3950
$Comp
L H-THING-rescue:Screw_Terminal_01x02 J3
U 1 1 5B19E758
P 8100 3100
F 0 "J3" H 8100 3200 50  0000 C CNN
F 1 "MAIN_PWR" H 8100 2900 50  0000 C CNN
F 2 "Connectors_Terminal_Blocks:TerminalBlock_bornier-2_P5.08mm" H 8100 3100 50  0001 C CNN
F 3 "" H 8100 3100 50  0001 C CNN
	1    8100 3100
	-1   0    0    -1  
$EndComp
Wire Wire Line
	8300 3100 8500 3100
Wire Wire Line
	8500 3100 8500 2950
Wire Wire Line
	8300 3200 8500 3200
Wire Wire Line
	8500 3200 8500 3350
$Comp
L power1:VCC #PWR07
U 1 1 5B19E8CE
P 8500 2950
F 0 "#PWR07" H 8500 2800 50  0001 C CNN
F 1 "VCC" H 8500 3100 50  0000 C CNN
F 2 "" H 8500 2950 50  0001 C CNN
F 3 "" H 8500 2950 50  0001 C CNN
	1    8500 2950
	1    0    0    -1  
$EndComp
$Comp
L power1:GND #PWR08
U 1 1 5B19E900
P 8500 3350
F 0 "#PWR08" H 8500 3100 50  0001 C CNN
F 1 "GND" H 8500 3200 50  0000 C CNN
F 2 "" H 8500 3350 50  0001 C CNN
F 3 "" H 8500 3350 50  0001 C CNN
	1    8500 3350
	1    0    0    -1  
$EndComp
$Comp
L device:CP C2
U 1 1 5B19EA69
P 8950 3150
F 0 "C2" H 8975 3250 50  0000 L CNN
F 1 "470uF" H 8975 3050 50  0000 L CNN
F 2 "Capacitors_THT:CP_Radial_D10.0mm_P5.00mm" H 8988 3000 50  0001 C CNN
F 3 "" H 8950 3150 50  0001 C CNN
	1    8950 3150
	1    0    0    -1  
$EndComp
$Comp
L power1:VCC #PWR09
U 1 1 5B19EAE8
P 8950 2950
F 0 "#PWR09" H 8950 2800 50  0001 C CNN
F 1 "VCC" H 8950 3100 50  0000 C CNN
F 2 "" H 8950 2950 50  0001 C CNN
F 3 "" H 8950 2950 50  0001 C CNN
	1    8950 2950
	1    0    0    -1  
$EndComp
$Comp
L power1:GND #PWR010
U 1 1 5B19EB1D
P 8950 3350
F 0 "#PWR010" H 8950 3100 50  0001 C CNN
F 1 "GND" H 8950 3200 50  0000 C CNN
F 2 "" H 8950 3350 50  0001 C CNN
F 3 "" H 8950 3350 50  0001 C CNN
	1    8950 3350
	1    0    0    -1  
$EndComp
Wire Wire Line
	8950 3000 8950 2950
Wire Wire Line
	8950 3350 8950 3300
$Comp
L device:C C3
U 1 1 5B19ECF3
P 9400 3150
F 0 "C3" H 9425 3250 50  0000 L CNN
F 1 "100nF" H 9425 3050 50  0000 L CNN
F 2 "Capacitors_THT:C_Disc_D5.0mm_W2.5mm_P5.00mm" H 9438 3000 50  0001 C CNN
F 3 "" H 9400 3150 50  0001 C CNN
	1    9400 3150
	1    0    0    -1  
$EndComp
$Comp
L power1:VCC #PWR011
U 1 1 5B19ED6F
P 9400 2950
F 0 "#PWR011" H 9400 2800 50  0001 C CNN
F 1 "VCC" H 9400 3100 50  0000 C CNN
F 2 "" H 9400 2950 50  0001 C CNN
F 3 "" H 9400 2950 50  0001 C CNN
	1    9400 2950
	1    0    0    -1  
$EndComp
$Comp
L power1:GND #PWR012
U 1 1 5B19EDA7
P 9400 3350
F 0 "#PWR012" H 9400 3100 50  0001 C CNN
F 1 "GND" H 9400 3200 50  0000 C CNN
F 2 "" H 9400 3350 50  0001 C CNN
F 3 "" H 9400 3350 50  0001 C CNN
	1    9400 3350
	1    0    0    -1  
$EndComp
Wire Wire Line
	9400 3000 9400 2950
Wire Wire Line
	9400 3350 9400 3300
$Comp
L H-THING-rescue:Screw_Terminal_01x02 J2
U 1 1 5B19F010
P 7350 3200
F 0 "J2" H 7350 3300 50  0000 C CNN
F 1 "PWR_PASSTHRU" H 7350 3000 50  0000 C CNN
F 2 "Connectors_Terminal_Blocks:TerminalBlock_bornier-2_P5.08mm" H 7350 3200 50  0001 C CNN
F 3 "" H 7350 3200 50  0001 C CNN
	1    7350 3200
	-1   0    0    1   
$EndComp
Wire Wire Line
	7550 3100 7750 3100
Wire Wire Line
	7750 3100 7750 2950
Wire Wire Line
	7550 3200 7750 3200
Wire Wire Line
	7750 3200 7750 3350
$Comp
L power1:VCC #PWR013
U 1 1 5B19F01A
P 7750 2950
F 0 "#PWR013" H 7750 2800 50  0001 C CNN
F 1 "VCC" H 7750 3100 50  0000 C CNN
F 2 "" H 7750 2950 50  0001 C CNN
F 3 "" H 7750 2950 50  0001 C CNN
	1    7750 2950
	1    0    0    -1  
$EndComp
$Comp
L power1:GND #PWR014
U 1 1 5B19F020
P 7750 3350
F 0 "#PWR014" H 7750 3100 50  0001 C CNN
F 1 "GND" H 7750 3200 50  0000 C CNN
F 2 "" H 7750 3350 50  0001 C CNN
F 3 "" H 7750 3350 50  0001 C CNN
	1    7750 3350
	1    0    0    -1  
$EndComp
Wire Notes Line
	2200 2300 2200 5450
Wire Notes Line
	2200 5450 6650 5450
Wire Notes Line
	6650 5450 6650 2300
Wire Notes Line
	6650 2600 2200 2600
Wire Notes Line
	6650 2300 2200 2300
Text Notes 2300 2500 0    60   ~ 0
H-Bridge
Wire Notes Line
	6850 2300 6850 3800
Wire Notes Line
	6850 3800 9850 3800
Wire Notes Line
	9850 3800 9850 2300
Wire Notes Line
	9850 2300 6850 2300
Wire Notes Line
	6850 2600 9850 2600
Text Notes 6950 2500 0    60   ~ 0
Power Connection
Wire Notes Line
	6850 3950 6850 5450
Wire Notes Line
	6850 5450 9850 5450
Wire Notes Line
	9850 5450 9850 3950
Wire Notes Line
	9850 3950 6850 3950
Wire Notes Line
	6850 4250 9850 4250
Text Notes 6950 4150 0    60   ~ 0
Signal Connection
Connection ~ 4500 4550
Text Label 4950 4750 2    60   ~ 0
I_SENSE
Text Notes 3100 6050 0    60   ~ 0
Using I_SENSE:\nPCB trace between GND and halfbridge acts as resistor.\nRead I_SENSE using an analogRead and correlate with motor current.\nBypass feature by placing R3 (use wire).
$Comp
L H-THING-rescue:Conn_01x03_Female J4
U 1 1 5B1A0FE1
P 8050 4850
F 0 "J4" H 8050 5050 50  0000 C CNN
F 1 "SIG_CON" H 8050 4650 50  0000 C CNN
F 2 "Socket_Strips:Socket_Strip_Straight_1x03_Pitch2.54mm" H 8050 4850 50  0001 C CNN
F 3 "" H 8050 4850 50  0001 C CNN
	1    8050 4850
	1    0    0    -1  
$EndComp
Wire Wire Line
	7850 4750 7250 4750
Wire Wire Line
	7850 4850 7250 4850
Wire Wire Line
	7850 4950 7250 4950
Text Label 7250 4750 0    60   ~ 0
HB1
Text Label 7250 4950 0    60   ~ 0
HB2
Text Label 7250 4850 0    60   ~ 0
I_SENSE
Text Notes 8500 4900 0    60   ~ 0
Reverse connector to \nreverse motor direction
$Comp
L device:R R6
U 1 1 5B1ABA86
P 4200 4850
F 0 "R6" V 4280 4850 50  0000 C CNN
F 1 "0R20" V 4200 4850 50  0000 C CNN
F 2 "Resistors_THT:R_Axial_DIN0207_L6.3mm_D2.5mm_P2.54mm_Vertical" V 4130 4850 50  0001 C CNN
F 3 "" H 4200 4850 50  0001 C CNN
	1    4200 4850
	1    0    0    -1  
$EndComp
Wire Wire Line
	4200 4700 4200 4550
Wire Wire Line
	4200 5050 4200 5000
Wire Wire Line
	4500 4550 4500 4750
Wire Wire Line
	4500 4750 4950 4750
Wire Wire Line
	3700 4550 4200 4550
Wire Wire Line
	3300 3650 3300 4250
Wire Wire Line
	5500 3650 5500 4250
Wire Wire Line
	3300 4250 3300 4550
Wire Wire Line
	5500 4250 5500 4550
Wire Wire Line
	4400 3350 5100 3350
Wire Wire Line
	4200 4550 4500 4550
Wire Wire Line
	3700 3950 3700 4050
Wire Wire Line
	5100 3950 5100 4050
Wire Wire Line
	4200 3950 4350 3950
Wire Wire Line
	4600 3950 5100 3950
Wire Wire Line
	4500 4550 5100 4550
$EndSCHEMATC
